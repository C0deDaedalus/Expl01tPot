<!DOCTYPE html>
<html>
    
    <head>
        <title>WinXP[SP2] Exploit</title>
        <style>
            body { background-color:black; color:lime; max-width:60rem; margin:0 auto; padding:3rem; }
            img { width:100%; border: 2px solid lime;}
            p { font-family: sans-serif; font-weight:bolder; font-size:20px; }
        </style>
   </head>

    <body>
        <br/><br/>
        <p> 
            <h7 style="color:lightblue;">=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=</h7><br/><br/>
            > Earlier we saw how to hack into Windows XP Machine (Service PAck 0 to be specific)<br/>
            &nbsp;&nbsp;&nbsp;&nbsp;Now we will see Hacking into Windows XP Machine (WTF Again!)
            but with some changes.<br/><br/>
            > Earlier we didn't took account into Firewall.<br/><br/>
            > Yes, What happens when you as an Attacker choose to Exploit<br/>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            a <h7 style="color:orange;"><em>Machine with Firewall ON </em></h7>as a security measure by Target.
            <br/>
            > We are not going to bypass Firewall or do something like that.<br/>
            > We will just see how Attack affects when Firewall is Enabled or Disabled.<br/><br/>
            > So, Let's Initialize &nbsp;. &nbsp;. &nbsp;. &nbsp;. &nbsp;. &nbsp;. &nbsp;. &nbsp;.
            &nbsp;. &nbsp;. &nbsp;. &nbsp;. &nbsp;. &nbsp;. &nbsp;. &nbsp;. &nbsp;. &nbsp;. &nbsp;.
            &nbsp;. &nbsp;. &nbsp;. &nbsp;. &nbsp;. &nbsp;/<br/><br/><br/>
            &nbsp;&nbsp;&nbsp;<h7 style="color:lightblue;">=+=+=+=+=+=+=+=+=+=+=+=+=+&nbsp;Initializing Reconnaissance Phase &nbsp;+=+=+=+=+=+=+=+=+=+=+=+=</h7><br/><br/>
            > Running <h7 style="color:white;">netdiscover</h7> shows us 4 devices, but as we are working in vmware,<br>
            &nbsp;&nbsp;&nbsp;So, IP 192.168.2.1 , 2 , 254 are for vmware. So It leaves odd one out victim machine's IP<br/><br/>
            &nbsp;&nbsp;&nbsp;Thus Our Target = <h7 style="color:red;">192.168.2.131</h7><br/>
        </p><br/>
        <img src="https://imgur.com/8nfHNXI"/><br/>
        <p>
            > Running <h7 style="color:white;">ifconfig</h7> shows that our machine is connected to Network via interface eth0.<br/>
            > Thus Attacker's IP = 192.168.2.130<br/><br/>
            > Now Let's Run <h7 style="color:white;">ping</h7> to check If it's alive or not.<br/><br/>
            > Ping to target machine doesn't works simply because FIREWALL = ON.<br/><br/>
            > Try to do <h7 style="color:white;">Nmap</h7> on Target machine.<br/>
            > You'll see all ports to be Filtered. This is what a Firewall does.<br/><br/>
            > Filtered = Unable to determine open / Closed .<br/><br/>
            > Firewall simply doesn't discloses the information for ports to be open or closed<br/>
            &nbsp;&nbsp;&nbsp;protecting machine from Information Gathering Attacks.
        </p>
        <img src="https://imgur.com/LaZBeeb"/><br/>
        <p>
            > <h7 style="color:orange;">Now for Our Attack, Let's Turn OFF the FIREWALL. </h7>& Try again ping & nmap the target machine<br/><br/>
            > We can see machine can respond to ping.<br/><br/>
            > If ping shows an error message of HOST UNREACHABLE, It means<br/>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1. either it is not in the network.<br/>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2. or it's not alive.<br/><br/>
            > If ping doesn't shows anything, It's a hint of FIREWALL turned ON on target machine.<br/><br/>
            > After doing basic nmap, we can see that 997 ports are closed but ports = 135, 139, 445 are open<br/>
        </p>
        <img src="https://imgur.com/0tocFJS"/><br/>
        <p>
            > Running an Aggressive OS Detection Scan via nmap give more precise information.<br/>
            > Running Command <h7 style="color:white;"># nmap -sS -O -A 192.168.2.131</h7><br/><br/>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            gives us MAC Address, OS Running on device & Ports & running Service Information.<br/><br/>
            > smb-os-discovery clearly states that Target Device is running<br/><br/>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <h7 style="color:red;">Windows XP (Windows 2000 LAN MAnager)</h7>
        </p>
        <img src="https://imgur.com/R77g9hu"/><br/>
        <p>
            > Now We know It's an XP Machine, Let's Find Exploit for that target machine.<br/><b/>
            > Official Microsoft Site -  " &nbsp;technet.microsoft.com/library/security  &nbsp;"<br/>
              &nbsp;&nbsp;&nbsp;&nbsp;lists down vulnerabilities of windows machines.<br/><br/>
            > Note down the "&nbsp; <h7 style="color:orange;">MS08-067 </h7>&nbsp;" . It will be later used on.
        </p>
        <img src="https://imgur.com/GvZJoBf"/><br/>
        <p>
            > Looking for windows XP exploits, we find some Remote Code Execution exploit.<br/>
            &nbsp;&nbsp;&nbsp;Ya' That's CRITICAL !<br/>
            > Further Exploring shows Affected OS list by this vulnerability.<br/>
            > Also It shows maximum security impact & Patches for the Updates in OS.
        </p>
        <img src="https://imgur.com/cEN9Zua"/><br/>
        <p>
        &nbsp;&nbsp;&nbsp;<h7 style="color:lightblue;">=+=+=+=+=+=+=+=+=+=+=+=+=+&nbsp; Initializing Exploit Creation Phase &nbsp;+=+=+=+=+=+=+=+=+=+=+=+=</h7><br/><br/>
            > Now Let's start Metasploit Framework by typing<h7 style="color:white;"> msfconsole</h7> at Terminal.
        </p>
        <img src="https://imgur.com/pyxIXvK"/><br/>
        <p>
            > Let's <h7 style="color:white;">search </h7>whether exploit searched for our target is present in our metasploit database or not.<br/>
        </p>
        <img src="https://imgur.com/tY16K0q"/><br/>
        <p>
            > Exploit Search shows it's in the database. That's Good! <br/>
            > Let's Use this exploit and look on some information on it.
        </p>
        <img src="https://imgur.com/9C2cuXz"/><br/>
        <p>
            > Now we need to fill required parameters for our exploit.<br/>
            > Setting <h7 style="color:white;">RHOST to target IP Address</h7>.
            <br/>
        </p>
        <img src="https://imgur.com/KpsybQq"/><br/>
        <p>
            > After done with all required options, we need to create our <h7 style="color:white;">PAYLOAD.</h7><br/>
            > So, we are creating a <h7 style="color:lightblue;"><i>" WindowsReverseTCPShell "</h7></i><br/>
            > Let's see required options and set them accordingly.
        </p>
        <img src="https://imgur.com/Gtj3Kd1"/><br/>
        <p>
            > <h7 style="color:white;">Set LHOST = Attacker's IP Address.</h7><br/>
            > Now we are done with the PAYLOAD settings, Let's exploit the Target machine.
        </p>
        <img src="https://imgur.com/8HZn8Cb"/><br/>
        <p>
            > Running <h7 style="color:white;">Exploit</h7> gives us a <h7 style="color:orange;">Windows Cmd Shell.</h7>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<h7 style="color:lightblue;"># H A C K E D </h7><br/>
        </p>
        <img src="https://imgur.com/qrggp3Z"/><br/>
        <p>
            > Navigate around some directories.<br/>
        </p>
        <img src="https://imgur.com/rAREyRO"/><br/><br/>
        <img src="https://imgur.com/aTBfouL"/><br/>
        <p>
            > <h7 style="color:lightblue;">Finally Got the Flag. Mission Accomplished.</h7><br/><br/>
            > But wait FIREWALL SERVICE is yet to come.<br/>
            > whatever we did , by the time <h7 style="color:red;">FIREWALL was turned OFF.</h7>
        </p>
        <img src="https://imgur.com/GSmtQUm"/><br/>
        <p>
            > Let's see what happens when you (as an attacker), by hook or crook <br/>
              &nbsp;&nbsp;&nbsp;get shell access on remote machine, but <h7 style="color:orange;">FIREWALL is turned ON.</h7>
            <br/>
            <h7 style="color:gray;">> Firewall simply blocks the Reverse TCP connection used by exploit.</h7>
        </p>
        <img src="https://imgur.com/4CipeAj"/><br/><br/>
        <p>
            <h7 style="color:lightblue;">> Thumb Rule : Firewall is the Ist Security thing. Make sure it's ON everytime.</h7><br/><br/>
            <h7 style="color:lightblue;">=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=</h7>
        </p>
    </body>

</html>